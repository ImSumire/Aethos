const mobile=/Android|iPhone/i.test(navigator.userAgent),themes=mobile?["Mobile","Dark","Light"]:["System","Dark","Light"],icon=document.querySelector("#switch > img"),switcher=document.querySelector("#switch");let id=0;function switchTheme(){id=++id%themes.length;const theme=themes[id];document.documentElement.className=theme.toLowerCase(),icon.src=`assets/icons/${theme}.svg`,switcher.setAttribute("tooltip",theme)}const bg=document.querySelector("#background");window.addEventListener("scroll",(()=>{bg.style.transform=`translate(calc(-50% + 50vw), ${-.4*window.scrollY}px)`}));var dialog,input,results,glowys=Array.from(document.querySelectorAll("[glow]"));mobile?glowys.forEach((ele=>{const[bgColor,_]=ele.getAttribute("glow").split(",");ele.style.background=bgColor})):glowys.forEach((ele=>{const[_,bgColor]=ele.getAttribute("glow").split(",");ele.style.background=bgColor})),document.addEventListener("mousemove",(e=>{const[x,y]=[e.clientX,e.clientY];glowys.forEach((ele=>{const colors=ele.getAttribute("glow"),glowSize=ele.getAttribute("glow-size")||"920px",rect=ele.getBoundingClientRect();ele.style.background=`\n\t\t\tradial-gradient(\n\t\t\t\t${glowSize} circle at\n\t\t\t\t${x-rect.left}px\n\t\t\t\t${y-rect.top}px,\n\t\t\t\t${colors}\n\t\t\t)`}))}));const data=fetch("http://127.0.0.1:3000/data.json").then((r=>r.json())),limit=8;function search(entry){entry=entry.toLowerCase();const res=document.querySelector("#search dialog > section");res.innerHTML="";let count=0;data.then((data=>{if(Object.entries(data).forEach((([name,content])=>{if(name.toLowerCase().includes(entry)||content.toLowerCase().includes(entry)){if(count>8)return;count++;const[descr,href]=content.split("\n"),result=document.createElement("a");result.href=href,"Installation"!=name&&"Get Started"!=name&&(result.target="_blank");const head=document.createElement("h2");head.innerHTML=name,result.appendChild(head);const preview=document.createElement("p");preview.innerHTML=descr,result.appendChild(preview),res.appendChild(result)}})),0===res.childElementCount){const msg=document.createElement("p");msg.innerHTML="No result.",res.appendChild(msg)}}))}document.addEventListener("DOMContentLoaded",(()=>{dialog=document.querySelector("#search dialog"),input=document.querySelector("#search dialog input"),results=document.querySelector("#search dialog > section")}));
